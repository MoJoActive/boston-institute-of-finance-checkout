{"version":3,"file":"cart-summary-drawer-d274ba2f.js","mappings":"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","sources":["webpack://checkout/./packages/core/src/app/cart/CartSummaryDrawer.tsx","webpack://checkout/./packages/core/src/app/cart/EditLink.tsx","webpack://checkout/./packages/core/src/app/coupon/AppliedCoupon.tsx","webpack://checkout/./packages/core/src/app/giftCertificate/AppliedGiftCertificate.tsx","webpack://checkout/./packages/core/src/app/ui/icon/IconRemove.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemable.tsx","webpack://checkout/./packages/core/src/app/cart/AppliedRedeemables.tsx","webpack://checkout/./packages/core/src/app/cart/Redeemable.tsx","webpack://checkout/./packages/core/src/app/cart/mapToCartSummaryProps.ts","webpack://checkout/./packages/core/src/app/cart/mapToRedeemableProps.ts","webpack://checkout/./packages/core/src/app/cart/withRedeemable.tsx","webpack://checkout/./packages/core/src/app/cart/mapToOrderSummarySubtotalsProps.ts","webpack://checkout/./packages/core/src/app/order/getLineItemsCount.ts","webpack://checkout/./packages/ui/src/icon/IconCloseWithBorder.tsx","webpack://checkout/./packages/core/src/app/order/OrderModalSummarySubheader.tsx","webpack://checkout/./packages/core/src/app/order/OrderSummaryModal.tsx","webpack://checkout/./packages/core/src/app/order/OrderSummaryDrawer.tsx","webpack://checkout/./packages/core/src/app/ui/modal/ModalTrigger.tsx","webpack://checkout/./packages/ui/src/button/Button.tsx","webpack://checkout/./packages/ui/src/icon/withIconContainer.tsx"],"sourcesContent":["import React, { FunctionComponent, memo } from 'react';\r\n\r\nimport { withCheckout } from '../checkout';\r\nimport OrderSummaryDrawer from '../order/OrderSummaryDrawer';\r\n\r\nimport { WithCheckoutCartSummaryProps } from './CartSummary';\r\nimport EditLink from './EditLink';\r\nimport mapToCartSummaryProps from './mapToCartSummaryProps';\r\nimport withRedeemable from './withRedeemable';\r\n\r\nconst CartSummaryDrawer: FunctionComponent<WithCheckoutCartSummaryProps> = ({\r\n    cartUrl,\r\n    ...props\r\n}) =>\r\n    withRedeemable(OrderSummaryDrawer)({\r\n        ...props,\r\n        cartUrl,\r\n        headerLink: <EditLink className=\"modal-header-link cart-modal-link\" url={cartUrl} />,\r\n    });\r\n\r\nexport default withCheckout(mapToCartSummaryProps)(memo(CartSummaryDrawer));\r\n","import React, { FunctionComponent, memo } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nexport interface EditLinkProps {\r\n    className?: string;\r\n    url: string;\r\n}\r\n\r\nconst EditLink: FunctionComponent<EditLinkProps> = ({ className, url }) => (\r\n    <a\r\n        className={className || 'cart-header-link'}\r\n        data-test=\"cart-edit-link\"\r\n        href={url}\r\n        id=\"cart-edit-link\"\r\n        target=\"_top\"\r\n    >\r\n        <TranslatedString id=\"cart.edit_cart_action\" />\r\n    </a>\r\n);\r\n\r\nexport default memo(EditLink);\r\n","import { Coupon } from '@bigcommerce/checkout-sdk';\r\nimport React, { FunctionComponent, memo } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nexport interface AppliedCouponProps {\r\n    coupon: Coupon;\r\n}\r\n\r\nconst AppliedCoupon: FunctionComponent<AppliedCouponProps> = ({ coupon }) => (\r\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--coupon\">\r\n        <span className=\"redeemable-info-header\">\r\n            <span className=\"redeemable-info-header--highlight\" data-test=\"coupon-amount\">\r\n                {coupon.displayName}\r\n            </span>{' '}\r\n            <TranslatedString id=\"redeemable.coupon_text\" />\r\n        </span>\r\n\r\n        <span className=\"redeemable-info-subHeader\" data-test=\"coupon-code\">\r\n            {coupon.code}\r\n        </span>\r\n    </div>\r\n);\r\n\r\nexport default memo(AppliedCoupon);\r\n","import { GiftCertificate } from '@bigcommerce/checkout-sdk';\r\nimport React, { FunctionComponent, memo } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nimport { ShopperCurrency } from '../currency';\r\n\r\nexport interface AppliedGiftCertificateProps {\r\n    giftCertificate: GiftCertificate;\r\n}\r\n\r\nconst AppliedGiftCertificate: FunctionComponent<AppliedGiftCertificateProps> = ({\r\n    giftCertificate,\r\n}) => (\r\n    <div className=\"redeemable-column redeemable-info\" data-test=\"redeemable-item--giftCertificate\">\r\n        <span className=\"redeemable-info-header\">\r\n            <span className=\"redeemable-info-header--highlight\" data-test=\"giftCertificate-amount\">\r\n                <ShopperCurrency amount={giftCertificate.used} />\r\n            </span>{' '}\r\n            <TranslatedString id=\"redeemable.gift_certificate_text\" />\r\n        </span>\r\n\r\n        <span className=\"redeemable-info-subHeader\">\r\n            {giftCertificate.remaining > 0 && (\r\n                <span className=\"redeemable-info-subHeader--remaining\">\r\n                    <TranslatedString id=\"redeemable.gift_certificate_remaining_text\" />{' '}\r\n                    <span data-test=\"giftCertificate-remaining\">\r\n                        <ShopperCurrency amount={giftCertificate.remaining} />\r\n                    </span>\r\n                </span>\r\n            )}\r\n\r\n            <span data-test=\"giftCertificate-code\">{giftCertificate.code}</span>\r\n        </span>\r\n    </div>\r\n);\r\n\r\nexport default memo(AppliedGiftCertificate);\r\n","import React, { FunctionComponent } from 'react';\r\n\r\nimport withIconContainer from './withIconContainer';\r\n\r\nconst IconRemove: FunctionComponent = () => (\r\n    <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\r\n    </svg>\r\n);\r\n\r\nexport default withIconContainer(IconRemove);\r\n","import classNames from 'classnames';\r\nimport React, { FunctionComponent } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nimport { IconRemove } from '../ui/icon';\r\n\r\nimport './AppliedRedeemable.scss';\r\n\r\nexport interface AppliedRedeemableProps {\r\n    isRemoving: boolean;\r\n    onRemove(): void;\r\n}\r\n\r\nconst AppliedRedeemable: FunctionComponent<AppliedRedeemableProps> = ({\r\n    children,\r\n    isRemoving,\r\n    onRemove,\r\n}) => (\r\n    <div className=\"form-checklist-header\">\r\n        <div className=\"form-checklist-checkbox optimizedCheckout-form-checklist-checkbox\">\r\n            <span className=\"is-srOnly\">\r\n                <TranslatedString id=\"redeemable.applied_text\" />\r\n            </span>\r\n        </div>\r\n\r\n        <div className=\"form-label form-label-redeemable\">\r\n            <div className=\"redeemable\">\r\n                {children}\r\n                <div className=\"redeemable-column redeemable-actions\">\r\n                    <button\r\n                        className={classNames('redeemable-remove', { 'is-loading': isRemoving })}\r\n                        data-test=\"redeemable-remove\"\r\n                        disabled={isRemoving}\r\n                        onClick={onRemove}\r\n                        type=\"button\"\r\n                    >\r\n                        <IconRemove />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default AppliedRedeemable;\r\n","import { Coupon, GiftCertificate } from '@bigcommerce/checkout-sdk';\r\nimport React, { FunctionComponent, memo, useCallback } from 'react';\r\n\r\nimport { AppliedCoupon } from '../coupon';\r\nimport { AppliedGiftCertificate } from '../giftCertificate';\r\n\r\nimport AppliedRedeemable from './AppliedRedeemable';\r\n\r\ninterface AppliedCouponProps {\r\n    coupon: Coupon;\r\n    isRemoving?: boolean;\r\n    onRemoved(code: string): void;\r\n}\r\n\r\nconst AppliedCouponChecklistItem: FunctionComponent<AppliedCouponProps> = ({\r\n    coupon,\r\n    onRemoved,\r\n    isRemoving = false,\r\n}) => {\r\n    const handleRemove = useCallback(() => {\r\n        onRemoved(coupon.code);\r\n    }, [coupon, onRemoved]);\r\n\r\n    return (\r\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\r\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\r\n                <AppliedCoupon coupon={coupon} />\r\n            </AppliedRedeemable>\r\n        </li>\r\n    );\r\n};\r\n\r\ninterface AppliedGiftCertificateProps {\r\n    giftCertificate: GiftCertificate;\r\n    isRemoving?: boolean;\r\n    onRemoved(code: string): void;\r\n}\r\n\r\nconst AppliedGiftCertificateChecklistItem: FunctionComponent<AppliedGiftCertificateProps> = ({\r\n    giftCertificate,\r\n    onRemoved,\r\n    isRemoving = false,\r\n}) => {\r\n    const handleRemove = useCallback(() => {\r\n        onRemoved(giftCertificate.code);\r\n    }, [giftCertificate, onRemoved]);\r\n\r\n    return (\r\n        <li className=\"form-checklist-item optimizedCheckout-form-checklist-item\">\r\n            <AppliedRedeemable isRemoving={isRemoving} onRemove={handleRemove}>\r\n                <AppliedGiftCertificate giftCertificate={giftCertificate} />\r\n            </AppliedRedeemable>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport interface AppliedRedeemablesProps {\r\n    coupons?: Coupon[];\r\n    giftCertificates?: GiftCertificate[];\r\n    isRemovingGiftCertificate?: boolean;\r\n    isRemovingCoupon?: boolean;\r\n    onRemovedCoupon(code: string): void;\r\n    onRemovedGiftCertificate(code: string): void;\r\n}\r\n\r\nconst AppliedRedeemables: FunctionComponent<AppliedRedeemablesProps> = ({\r\n    coupons = [],\r\n    giftCertificates = [],\r\n    isRemovingCoupon = false,\r\n    isRemovingGiftCertificate = false,\r\n    onRemovedCoupon,\r\n    onRemovedGiftCertificate,\r\n}) => {\r\n    if (!coupons.length && !giftCertificates.length) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <ul\r\n            className=\"form-checklist optimizedCheckout-form-checklist\"\r\n            data-test=\"redeemables-list\"\r\n        >\r\n            {coupons.map((coupon) => (\r\n                <AppliedCouponChecklistItem\r\n                    coupon={coupon}\r\n                    isRemoving={isRemovingCoupon}\r\n                    key={coupon.code}\r\n                    onRemoved={onRemovedCoupon}\r\n                />\r\n            ))}\r\n\r\n            {giftCertificates.map((giftCertificate) => (\r\n                <AppliedGiftCertificateChecklistItem\r\n                    giftCertificate={giftCertificate}\r\n                    isRemoving={isRemovingGiftCertificate}\r\n                    key={giftCertificate.code}\r\n                    onRemoved={onRemovedGiftCertificate}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default memo(AppliedRedeemables);\r\n","import { CheckoutSelectors, RequestError } from '@bigcommerce/checkout-sdk';\r\nimport { memoizeOne } from '@bigcommerce/memoize';\r\nimport { FieldProps, FormikProps, withFormik } from 'formik';\r\nimport { noop } from 'lodash';\r\nimport React, { FunctionComponent, KeyboardEvent, memo, useCallback } from 'react';\r\nimport { object, string } from 'yup';\r\n\r\nimport { TranslatedString, withLanguage, WithLanguageProps } from '@bigcommerce/checkout/locale';\r\n\r\nimport { preventDefault } from '../common/dom';\r\nimport { Alert, AlertType } from '../ui/alert';\r\nimport { Button, ButtonVariant } from '../ui/button';\r\nimport { FormContextType, FormField, FormProvider, Label, TextInput } from '../ui/form';\r\nimport { Toggle } from '../ui/toggle';\r\n\r\nimport AppliedRedeemables, { AppliedRedeemablesProps } from './AppliedRedeemables';\r\n\r\nexport interface RedeemableFormValues {\r\n    redeemableCode: string;\r\n}\r\n\r\nexport type ReedemableChildrenProps = Pick<\r\n    RedeemableProps,\r\n    | 'onRemovedCoupon'\r\n    | 'onRemovedGiftCertificate'\r\n    | 'isRemovingGiftCertificate'\r\n    | 'isRemovingCoupon'\r\n    | 'coupons'\r\n    | 'giftCertificates'\r\n>;\r\n\r\nexport type RedeemableProps = {\r\n    appliedRedeemableError?: RequestError;\r\n    isApplyingRedeemable?: boolean;\r\n    isRemovingRedeemable?: boolean;\r\n    removedRedeemableError?: RequestError;\r\n    showAppliedRedeemables?: boolean;\r\n    shouldCollapseCouponCode?: boolean;\r\n    applyCoupon(code: string): Promise<CheckoutSelectors>;\r\n    applyGiftCertificate(code: string): Promise<CheckoutSelectors>;\r\n    clearError(error: Error): void;\r\n} & AppliedRedeemablesProps;\r\n\r\nconst Redeemable: FunctionComponent<\r\n    RedeemableProps & WithLanguageProps & FormikProps<RedeemableFormValues>\r\n> = ({ shouldCollapseCouponCode, showAppliedRedeemables, ...formProps }) => (\r\n    <Toggle openByDefault={!shouldCollapseCouponCode}>\r\n        {({ toggle, isOpen }) => (\r\n            <>\r\n                {shouldCollapseCouponCode && (\r\n                    <a\r\n                        aria-controls=\"redeemable-collapsable\"\r\n                        aria-expanded={isOpen}\r\n                        className=\"redeemable-label\"\r\n                        data-test=\"redeemable-label\"\r\n                        href=\"#\"\r\n                        onClick={preventDefault(toggle)}\r\n                    >\r\n                        <TranslatedString id=\"redeemable.toggle_action\" />\r\n                    </a>\r\n                )}\r\n                {!shouldCollapseCouponCode && (\r\n                    <div className=\"redeemable-label\">\r\n                        <TranslatedString id=\"redeemable.toggle_action\" />\r\n                    </div>\r\n                )}\r\n                {(isOpen || !shouldCollapseCouponCode) && (\r\n                    <div data-test=\"redeemable-collapsable\" id=\"redeemable-collapsable\">\r\n                        <RedeemableForm {...formProps} />\r\n                        {showAppliedRedeemables && <AppliedRedeemables {...formProps} />}\r\n                    </div>\r\n                )}\r\n            </>\r\n        )}\r\n    </Toggle>\r\n);\r\n\r\nconst RedeemableForm: FunctionComponent<\r\n    Partial<RedeemableProps> & FormikProps<RedeemableFormValues> & WithLanguageProps\r\n> = ({ appliedRedeemableError, isApplyingRedeemable, clearError = noop, submitForm, language }) => {\r\n    const handleKeyDown = useCallback(\r\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => (event: KeyboardEvent) => {\r\n            if (appliedRedeemableError) {\r\n                clearError(appliedRedeemableError);\r\n            }\r\n\r\n            // note: to prevent submitting main form, we manually intercept\r\n            // the enter key event and submit the \"subform\".\r\n            if (event.keyCode === 13) {\r\n                setSubmitted(true);\r\n                submitForm();\r\n                event.preventDefault();\r\n            }\r\n        }),\r\n        [appliedRedeemableError, clearError, submitForm],\r\n    );\r\n\r\n    const handleSubmit = useCallback(\r\n        memoizeOne((setSubmitted: FormContextType['setSubmitted']) => () => {\r\n            setSubmitted(true);\r\n            submitForm();\r\n        }),\r\n        [],\r\n    );\r\n\r\n    const renderLabel = useCallback(\r\n        (name: string) => (\r\n            <Label hidden htmlFor={name}>\r\n                <TranslatedString id=\"redeemable.code_label\" />\r\n            </Label>\r\n        ),\r\n        [],\r\n    );\r\n\r\n    const renderErrorMessage = useCallback((errorCode: string) => {\r\n        switch (errorCode) {\r\n            case 'min_purchase':\r\n                return <TranslatedString id=\"redeemable.coupon_min_order_total\" />;\r\n\r\n            case 'not_applicable':\r\n                return <TranslatedString id=\"redeemable.coupon_location_error\" />;\r\n\r\n            default:\r\n                return <TranslatedString id=\"redeemable.code_invalid_error\" />;\r\n        }\r\n    }, []);\r\n\r\n    const renderInput = useCallback(\r\n        (setSubmitted: FormContextType['setSubmitted']) =>\r\n            ({ field }: FieldProps) =>\r\n                (\r\n                    <>\r\n                        {appliedRedeemableError &&\r\n                            appliedRedeemableError.errors &&\r\n                            appliedRedeemableError.errors[0] && (\r\n                                <Alert type={AlertType.Error}>\r\n                                    {renderErrorMessage(appliedRedeemableError.errors[0].code)}\r\n                                </Alert>\r\n                            )}\r\n\r\n                        <div className=\"form-prefixPostfix\">\r\n                            <TextInput\r\n                                {...field}\r\n                                aria-label={language.translate('redeemable.code_label')}\r\n                                className=\"form-input optimizedCheckout-form-input\"\r\n                                onKeyDown={handleKeyDown(setSubmitted)}\r\n                                testId=\"redeemableEntry-input\"\r\n                            />\r\n\r\n                            <Button\r\n                                className=\"form-prefixPostfix-button--postfix\"\r\n                                id=\"applyRedeemableButton\"\r\n                                isLoading={isApplyingRedeemable}\r\n                                onClick={handleSubmit(setSubmitted)}\r\n                                testId=\"redeemableEntry-submit\"\r\n                                variant={ButtonVariant.Secondary}\r\n                            >\r\n                                <TranslatedString id=\"redeemable.apply_action\" />\r\n                            </Button>\r\n                        </div>\r\n                    </>\r\n                ),\r\n        [\r\n            appliedRedeemableError,\r\n            handleKeyDown,\r\n            handleSubmit,\r\n            isApplyingRedeemable,\r\n            language,\r\n            renderErrorMessage,\r\n        ],\r\n    );\r\n\r\n    const renderContent = useCallback(\r\n        memoizeOne(({ setSubmitted }: FormContextType) => (\r\n            <FormField\r\n                input={renderInput(setSubmitted)}\r\n                label={renderLabel}\r\n                name=\"redeemableCode\"\r\n            />\r\n        )),\r\n        [renderLabel, renderInput],\r\n    );\r\n\r\n    return (\r\n        <fieldset className=\"form-fieldset redeemable-entry\">\r\n            <FormProvider>{renderContent}</FormProvider>\r\n        </fieldset>\r\n    );\r\n};\r\n\r\nexport default withLanguage(\r\n    withFormik<RedeemableProps & WithLanguageProps, RedeemableFormValues>({\r\n        mapPropsToValues() {\r\n            return {\r\n                redeemableCode: '',\r\n            };\r\n        },\r\n\r\n        async handleSubmit(\r\n            { redeemableCode },\r\n            { props: { applyCoupon, applyGiftCertificate, clearError } },\r\n        ) {\r\n            const code = redeemableCode.trim();\r\n\r\n            try {\r\n                await applyGiftCertificate(code);\r\n            } catch (error) {\r\n                if (error instanceof Error) {\r\n                    clearError(error);\r\n                }\r\n\r\n                applyCoupon(code);\r\n            }\r\n        },\r\n\r\n        validationSchema({ language }: RedeemableProps & WithLanguageProps) {\r\n            return object({\r\n                redeemableCode: string().required(\r\n                    language.translate('redeemable.code_required_error'),\r\n                ),\r\n            });\r\n        },\r\n    })(memo(Redeemable)),\r\n);\r\n","import { CheckoutContextProps } from '@bigcommerce/checkout/payment-integration-api';\r\n\r\nimport { WithCheckoutCartSummaryProps } from './CartSummary';\r\nimport mapToRedeemableProps from './mapToRedeemableProps';\r\n\r\nexport default function mapToCartSummaryProps(\r\n    context: CheckoutContextProps,\r\n): WithCheckoutCartSummaryProps | null {\r\n    const {\r\n        checkoutState: {\r\n            data: { getConfig, getCustomer, getCheckout },\r\n        },\r\n    } = context;\r\n\r\n    const checkout = getCheckout();\r\n    const config = getConfig();\r\n    const customer = getCustomer();\r\n    const redeemableProps = mapToRedeemableProps(context);\r\n\r\n    if (!checkout || !config || !redeemableProps || !customer) {\r\n        return null;\r\n    }\r\n\r\n    const { isStoreCreditApplied, grandTotal } = checkout;\r\n    const { storeCredit } = customer;\r\n    const updatedCartModal = config?.checkoutSettings.features['CHECKOUT-7403.updated_cart_summary_modal'] ?? false;\r\n\r\n    return {\r\n        checkout,\r\n        shopperCurrency: config.shopperCurrency,\r\n        cartUrl: config.links.cartLink,\r\n        storeCurrency: config.currency,\r\n        storeCreditAmount: isStoreCreditApplied ? Math.min(grandTotal, storeCredit) : undefined,\r\n        isUpdatedCartSummayModal: updatedCartModal,\r\n        ...redeemableProps,\r\n    };\r\n}\r\n","import { CheckoutContextProps } from '@bigcommerce/checkout/payment-integration-api';\r\n\r\nimport { EMPTY_ARRAY } from '../common/utility';\r\n\r\nimport { RedeemableProps } from './Redeemable';\r\n\r\nexport default function mapToRedeemableProps(\r\n    context: CheckoutContextProps,\r\n): RedeemableProps | null {\r\n    const {\r\n        checkoutService,\r\n        checkoutState: {\r\n            data: { getConfig, getCoupons, getGiftCertificates },\r\n            statuses: {\r\n                isApplyingCoupon,\r\n                isApplyingGiftCertificate,\r\n                isRemovingCoupon,\r\n                isRemovingGiftCertificate,\r\n            },\r\n            errors: {\r\n                getApplyCouponError,\r\n                getApplyGiftCertificateError,\r\n                getRemoveCouponError,\r\n                getRemoveGiftCertificateError,\r\n            },\r\n        },\r\n    } = context;\r\n\r\n    const config = getConfig();\r\n\r\n    if (!config) {\r\n        return null;\r\n    }\r\n\r\n    return {\r\n        appliedRedeemableError: getApplyCouponError() || getApplyGiftCertificateError(),\r\n        applyCoupon: checkoutService.applyCoupon,\r\n        applyGiftCertificate: checkoutService.applyGiftCertificate,\r\n        clearError: checkoutService.clearError,\r\n        coupons: getCoupons() || EMPTY_ARRAY,\r\n        giftCertificates: getGiftCertificates() || EMPTY_ARRAY,\r\n        isApplyingRedeemable: isApplyingCoupon() || isApplyingGiftCertificate(),\r\n        isRemovingCoupon: isRemovingCoupon(),\r\n        isRemovingGiftCertificate: isRemovingGiftCertificate(),\r\n        onRemovedCoupon: checkoutService.removeCoupon,\r\n        onRemovedGiftCertificate: checkoutService.removeGiftCertificate,\r\n        removedRedeemableError: getRemoveCouponError() || getRemoveGiftCertificateError(),\r\n        shouldCollapseCouponCode: config.checkoutSettings.isCouponCodeCollapsed,\r\n    };\r\n}\r\n","import React, { ComponentType, FunctionComponent } from 'react';\r\n\r\nimport { OrderSummaryProps, OrderSummarySubtotalsProps } from '../order';\r\n\r\nimport { WithCheckoutCartSummaryProps } from './CartSummary';\r\nimport mapToOrderSummarySubtotalsProps from './mapToOrderSummarySubtotalsProps';\r\nimport Redeemable from './Redeemable';\r\n\r\nexport default function withRedeemable(\r\n    OriginalComponent: ComponentType<OrderSummaryProps & OrderSummarySubtotalsProps>,\r\n): FunctionComponent<WithCheckoutCartSummaryProps & { headerLink?: any }> {\r\n    return (props) => {\r\n        const {\r\n            checkout,\r\n            storeCurrency,\r\n            shopperCurrency,\r\n            headerLink,\r\n            onRemovedCoupon,\r\n            onRemovedGiftCertificate,\r\n            storeCreditAmount,\r\n            isUpdatedCartSummayModal = false,\r\n            ...redeemableProps\r\n        } = props;\r\n\r\n        return (\r\n            <OriginalComponent\r\n                {...mapToOrderSummarySubtotalsProps(checkout)}\r\n                additionalLineItems={\r\n                    <Redeemable\r\n                        {...{\r\n                            ...redeemableProps,\r\n                            onRemovedCoupon,\r\n                            onRemovedGiftCertificate,\r\n                        }}\r\n                    />\r\n                }\r\n                headerLink={headerLink}\r\n                isUpdatedCartSummayModal={isUpdatedCartSummayModal}\r\n                lineItems={checkout.cart.lineItems}\r\n                onRemovedCoupon={onRemovedCoupon}\r\n                onRemovedGiftCertificate={onRemovedGiftCertificate}\r\n                shopperCurrency={shopperCurrency}\r\n                storeCreditAmount={storeCreditAmount}\r\n                storeCurrency={storeCurrency}\r\n                total={checkout.outstandingBalance}\r\n            />\r\n        );\r\n    };\r\n}\r\n","import { Checkout } from '@bigcommerce/checkout-sdk';\r\n\r\nimport { OrderSummarySubtotalsProps } from '../order';\r\nimport { hasSelectedShippingOptions } from '../shipping';\r\n\r\nexport default function mapToOrderSummarySubtotalsProps({\r\n    subtotal,\r\n    cart: { discountAmount, isTaxIncluded },\r\n    giftCertificates,\r\n    consignments,\r\n    handlingCostTotal,\r\n    shippingCostBeforeDiscount,\r\n    giftWrappingCostTotal,\r\n    coupons,\r\n    taxes,\r\n}: Checkout): OrderSummarySubtotalsProps {\r\n    return {\r\n        subtotalAmount: subtotal,\r\n        discountAmount,\r\n        giftCertificates,\r\n        giftWrappingAmount: giftWrappingCostTotal,\r\n        shippingAmount: hasSelectedShippingOptions(consignments)\r\n            ? shippingCostBeforeDiscount\r\n            : undefined,\r\n        handlingAmount: handlingCostTotal,\r\n        coupons,\r\n        taxes,\r\n        isTaxIncluded,\r\n    };\r\n}\r\n","import { LineItemMap } from '@bigcommerce/checkout-sdk';\r\n\r\nexport default function getLineItemsCount({\r\n    physicalItems,\r\n    digitalItems,\r\n    giftCertificates,\r\n    customItems,\r\n}: LineItemMap): number {\r\n    return (\r\n        physicalItems.length +\r\n        digitalItems.length +\r\n        giftCertificates.length +\r\n        (customItems || []).length\r\n    );\r\n}\r\n","import React, { FunctionComponent } from 'react';\r\n\r\nimport withIconContainer from './withIconContainer';\r\n\r\nconst IconCloseWithBorder: FunctionComponent = () => (\r\n    <svg fill=\"none\" height=\"37\" viewBox=\"0 0 38 37\" width=\"38\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path\r\n            d=\"M38 18.5C38 28.7173 29.7173 37 19.5 37C9.28273 37 1 28.7173 1 18.5C1 8.28273 9.28273 0 19.5 0C29.7173 0 38 8.28273 38 18.5Z\"\r\n            fill=\"#F3F3F3\"\r\n        />\r\n        <path\r\n            clipRule=\"evenodd\"\r\n            d=\"M24.6671 24.6674L12.9998 13.0002L14.4141 11.5859L26.0813 23.2532L24.6671 24.6674Z\"\r\n            fill=\"black\"\r\n            fillRule=\"evenodd\"\r\n        />\r\n        <path\r\n            clipRule=\"evenodd\"\r\n            d=\"M25.6674 13.0004L14.0002 24.6676L12.5859 23.2534L24.2532 11.5862L25.6674 13.0004Z\"\r\n            fill=\"black\"\r\n            fillRule=\"evenodd\"\r\n        />\r\n    </svg>\r\n);\r\n\r\nexport default withIconContainer(IconCloseWithBorder);\r\n","import { LineItemMap } from '@bigcommerce/checkout-sdk';\r\nimport React, { FunctionComponent, memo, ReactNode } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nimport getItemsCount from './getItemsCount';\r\n\r\nexport interface OrderModalSummarySubheaderProps {\r\n    items: LineItemMap\r\n    amountWithCurrency: ReactNode;\r\n    shopperCurrencyCode: string;\r\n    storeCurrencyCode: string;\r\n}\r\n\r\nconst OrderModalSummarySubheader: FunctionComponent<OrderModalSummarySubheaderProps> = ({\r\n    items,\r\n    shopperCurrencyCode,\r\n    storeCurrencyCode,\r\n    amountWithCurrency,\r\n}) => {\r\n    const itemsCount = getItemsCount(items);\r\n    const hasDifferentCurrency = shopperCurrencyCode !== storeCurrencyCode;\r\n    const itemsText = itemsCount === 1 ? 'cart.item' : 'cart.items';\r\n\r\n    return <>\r\n        {itemsCount} <TranslatedString id={itemsText} /> | {amountWithCurrency} {\r\n            hasDifferentCurrency && <span>({shopperCurrencyCode})</span>\r\n        }\r\n    </>;\r\n};\r\n\r\nexport default memo(OrderModalSummarySubheader);\r\n","import {\r\n    LineItemMap,\r\n    ShopperCurrency as ShopperCurrencyType,\r\n    StoreCurrency,\r\n} from '@bigcommerce/checkout-sdk';\r\nimport React, { cloneElement, FunctionComponent, isValidElement, ReactNode } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\nimport { Button, IconCloseWithBorder } from '@bigcommerce/checkout/ui';\r\n\r\nimport { preventDefault } from '../common/dom';\r\nimport { ShopperCurrency } from '../currency';\r\nimport { IconClose } from '../ui/icon';\r\nimport { Modal, ModalHeader } from '../ui/modal';\r\nimport { isSmallScreen } from '../ui/responsive';\r\n\r\nimport OrderModalSummarySubheader from './OrderModalSummarySubheader';\r\nimport OrderSummaryItems from './OrderSummaryItems';\r\nimport OrderSummaryPrice from './OrderSummaryPrice';\r\nimport OrderSummarySection from './OrderSummarySection';\r\nimport OrderSummarySubtotals, { OrderSummarySubtotalsProps } from './OrderSummarySubtotals';\r\nimport OrderSummaryTotal from './OrderSummaryTotal';\r\n\r\nexport interface OrderSummaryDrawerProps {\r\n    additionalLineItems?: ReactNode;\r\n    lineItems: LineItemMap;\r\n    total: number;\r\n    storeCurrency: StoreCurrency;\r\n    shopperCurrency: ShopperCurrencyType;\r\n    isOpen: boolean;\r\n    headerLink?: ReactNode & React.HTMLProps<HTMLDivElement>;\r\n    onRequestClose?(): void;\r\n    onAfterOpen?(): void;\r\n}\r\n\r\nconst OrderSummaryModal: FunctionComponent<\r\n    OrderSummaryDrawerProps & OrderSummarySubtotalsProps\r\n> = ({\r\n    additionalLineItems,\r\n    children,\r\n    isTaxIncluded,\r\n    isUpdatedCartSummayModal = false,\r\n    taxes,\r\n    onRequestClose,\r\n    onAfterOpen,\r\n    storeCurrency,\r\n    shopperCurrency,\r\n    isOpen,\r\n    headerLink,\r\n    lineItems,\r\n    total,\r\n    ...orderSummarySubtotalsProps\r\n}) => {\r\n    const displayInclusiveTax = isTaxIncluded && taxes && taxes.length > 0;\r\n\r\n    const subHeaderText = <OrderModalSummarySubheader\r\n        amountWithCurrency={<ShopperCurrency amount={total} />}\r\n        items={lineItems}\r\n        shopperCurrencyCode={shopperCurrency.code}\r\n        storeCurrencyCode={storeCurrency.code}\r\n    />;\r\n\r\n    const continueButton = isUpdatedCartSummayModal && isSmallScreen() && <Button\r\n        className='cart-modal-continue'\r\n        data-test=\"manage-instrument-cancel-button\"\r\n        onClick={preventDefault(onRequestClose)}>\r\n            <TranslatedString id=\"cart.return_to_checkout\" />\r\n    </Button>;\r\n\r\n    return <Modal\r\n        additionalBodyClassName=\"cart-modal-body optimizedCheckout-orderSummary\"\r\n        additionalHeaderClassName={`cart-modal-header optimizedCheckout-orderSummary${isUpdatedCartSummayModal ? ' with-continue-button' : ''}`}\r\n        additionalModalClassName={isUpdatedCartSummayModal ? 'optimizedCheckout-cart-modal' : ''}\r\n        footer={continueButton}\r\n        header={renderHeader({\r\n            headerLink,\r\n            subHeaderText,\r\n            isUpdatedCartSummayModal,\r\n            onRequestClose,\r\n        })}\r\n        isOpen={isOpen}\r\n        onAfterOpen={onAfterOpen}\r\n        onRequestClose={onRequestClose}\r\n    >\r\n        <OrderSummarySection>\r\n            <OrderSummaryItems displayLineItemsCount={!isUpdatedCartSummayModal} items={lineItems} />\r\n        </OrderSummarySection>\r\n        <OrderSummarySection>\r\n            <OrderSummarySubtotals isTaxIncluded={isTaxIncluded} taxes={taxes} {...orderSummarySubtotalsProps} />\r\n            {additionalLineItems}\r\n        </OrderSummarySection>\r\n        <OrderSummarySection>\r\n            <OrderSummaryTotal\r\n                orderAmount={total}\r\n                shopperCurrencyCode={shopperCurrency.code}\r\n                storeCurrencyCode={storeCurrency.code}\r\n            />\r\n        </OrderSummarySection>\r\n        {displayInclusiveTax && <OrderSummarySection>\r\n                <h5\r\n                    className=\"cart-taxItem cart-taxItem--subtotal optimizedCheckout-contentPrimary\"\r\n                    data-test=\"tax-text\"\r\n                >\r\n                    <TranslatedString\r\n                        id=\"tax.inclusive_label\"\r\n                    />\r\n                </h5>\r\n                {(taxes || []).map((tax, index) => (\r\n                    <OrderSummaryPrice\r\n                        amount={tax.amount}\r\n                        key={index}\r\n                        label={tax.name}\r\n                        testId=\"cart-taxes\"\r\n                    />\r\n                ))}\r\n            </OrderSummarySection>}\r\n    </Modal>\r\n};\r\n\r\nconst renderHeader: FunctionComponent<{\r\n    headerLink?: ReactNode & React.HTMLProps<HTMLDivElement>;\r\n    subHeaderText: ReactNode;\r\n    isUpdatedCartSummayModal: boolean;\r\n    onRequestClose?(): void;\r\n}> = ({ onRequestClose, headerLink, subHeaderText, isUpdatedCartSummayModal }) => {\r\n    if (!isUpdatedCartSummayModal) {\r\n       return <>\r\n            <a className=\"cart-modal-close\" href=\"#\" onClick={preventDefault(onRequestClose)}>\r\n                <span className=\"is-srOnly\">\r\n                    <TranslatedString id=\"common.close_action\" />\r\n                </span>\r\n                <IconClose />\r\n            </a>\r\n            <ModalHeader additionalClassName=\"cart-modal-title\">\r\n                <TranslatedString id=\"cart.cart_heading\" />\r\n            </ModalHeader>\r\n\r\n            {headerLink}\r\n        </>;\r\n    }\r\n\r\n    let newHeaderLink;\r\n\r\n    if (isValidElement(headerLink)) {\r\n        newHeaderLink = cloneElement(headerLink, { className: 'modal-header-link cart-modal-link test' });\r\n    }\r\n\r\n    return <>\r\n        {newHeaderLink ?? headerLink}\r\n        <ModalHeader additionalClassName=\"cart-modal-title\">\r\n            <div>\r\n                <TranslatedString id=\"cart.cart_heading\" />\r\n                <div className='cart-heading-subheader'>{subHeaderText}</div>\r\n            </div>\r\n        </ModalHeader>\r\n        <a className=\"cart-modal-close\" href=\"#\" onClick={preventDefault(onRequestClose)}>\r\n            <span className=\"is-srOnly\">\r\n                <TranslatedString id=\"common.close_action\" />\r\n            </span>\r\n            <IconCloseWithBorder />\r\n        </a>\r\n    </>\r\n};\r\n\r\nexport default OrderSummaryModal;\r\n","import {\r\n    LineItemMap,\r\n    ShopperCurrency as ShopperCurrencyType,\r\n    StoreCurrency,\r\n} from '@bigcommerce/checkout-sdk';\r\nimport classNames from 'classnames';\r\nimport React, { FunctionComponent, memo, ReactNode, useCallback } from 'react';\r\n\r\nimport { TranslatedString } from '@bigcommerce/checkout/locale';\r\n\r\nimport { ShopperCurrency } from '../currency';\r\nimport { IconGiftCertificate } from '../ui/icon';\r\nimport { ModalTrigger } from '../ui/modal';\r\n\r\nimport getItemsCount from './getItemsCount';\r\nimport getLineItemsCount from './getLineItemsCount';\r\nimport OrderSummaryModal from './OrderSummaryModal';\r\nimport { OrderSummarySubtotalsProps } from './OrderSummarySubtotals';\r\n\r\nexport interface OrderSummaryDrawerProps {\r\n    lineItems: LineItemMap;\r\n    total: number;\r\n    headerLink: ReactNode;\r\n    isUpdatedCartSummayModal?: boolean,\r\n    storeCurrency: StoreCurrency;\r\n    shopperCurrency: ShopperCurrencyType;\r\n    additionalLineItems?: ReactNode;\r\n}\r\n\r\nconst OrderSummaryDrawer: FunctionComponent<\r\n    OrderSummaryDrawerProps & OrderSummarySubtotalsProps\r\n> = ({\r\n    additionalLineItems,\r\n    coupons,\r\n    discountAmount,\r\n    giftCertificates,\r\n    handlingAmount,\r\n    headerLink,\r\n    isTaxIncluded,\r\n    isUpdatedCartSummayModal,\r\n    lineItems,\r\n    onRemovedCoupon,\r\n    onRemovedGiftCertificate,\r\n    shippingAmount,\r\n    shopperCurrency,\r\n    storeCreditAmount,\r\n    giftWrappingAmount,\r\n    storeCurrency,\r\n    subtotalAmount,\r\n    taxes,\r\n    total,\r\n}) => {\r\n    const renderModal = useCallback(\r\n        (props) => (\r\n            <OrderSummaryModal\r\n                {...props}\r\n                additionalLineItems={additionalLineItems}\r\n                coupons={coupons}\r\n                discountAmount={discountAmount}\r\n                giftCertificates={giftCertificates}\r\n                giftWrappingAmount={giftWrappingAmount}\r\n                handlingAmount={handlingAmount}\r\n                headerLink={headerLink}\r\n                isTaxIncluded={isTaxIncluded}\r\n                isUpdatedCartSummayModal={isUpdatedCartSummayModal}\r\n                lineItems={lineItems}\r\n                onRemovedCoupon={onRemovedCoupon}\r\n                onRemovedGiftCertificate={onRemovedGiftCertificate}\r\n                shippingAmount={shippingAmount}\r\n                shopperCurrency={shopperCurrency}\r\n                storeCreditAmount={storeCreditAmount}\r\n                storeCurrency={storeCurrency}\r\n                subtotalAmount={subtotalAmount}\r\n                taxes={taxes}\r\n                total={total}\r\n            />\r\n        ),\r\n        [\r\n            additionalLineItems,\r\n            coupons,\r\n            discountAmount,\r\n            giftCertificates,\r\n            handlingAmount,\r\n            headerLink,\r\n            isTaxIncluded,\r\n            lineItems,\r\n            onRemovedCoupon,\r\n            onRemovedGiftCertificate,\r\n            giftWrappingAmount,\r\n            shippingAmount,\r\n            shopperCurrency,\r\n            storeCreditAmount,\r\n            storeCurrency,\r\n            subtotalAmount,\r\n            taxes,\r\n            total,\r\n        ],\r\n    );\r\n\r\n    return (\r\n        <ModalTrigger modal={renderModal}>\r\n            {({ onClick, onKeyPress }) => (\r\n                <div\r\n                    className=\"cartDrawer optimizedCheckout-orderSummary\"\r\n                    onClick={onClick}\r\n                    onKeyPress={onKeyPress}\r\n                    tabIndex={0}\r\n                >\r\n                    <figure\r\n                        className={classNames('cartDrawer-figure', {\r\n                            'cartDrawer-figure--stack': getLineItemsCount(lineItems) > 1,\r\n                        })}\r\n                    >\r\n                        <div className=\"cartDrawer-imageWrapper\">{getImage(lineItems)}</div>\r\n                    </figure>\r\n                    <div className=\"cartDrawer-body\">\r\n                        <h3 className=\"cartDrawer-items optimizedCheckout-headingPrimary\">\r\n                            <TranslatedString\r\n                                data={{ count: getItemsCount(lineItems) }}\r\n                                id=\"cart.item_count_text\"\r\n                            />\r\n                        </h3>\r\n                        <a>\r\n                            <TranslatedString id=\"cart.show_details_action\" />\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"cartDrawer-actions\">\r\n                        <h3 className=\"cartDrawer-total optimizedCheckout-headingPrimary\">\r\n                            <ShopperCurrency amount={total} />\r\n                        </h3>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </ModalTrigger>\r\n    );\r\n};\r\n\r\nfunction getImage(lineItems: LineItemMap): ReactNode {\r\n    const productWithImage = lineItems.physicalItems[0] || lineItems.digitalItems[0];\r\n\r\n    if (productWithImage && productWithImage.imageUrl) {\r\n        return (\r\n            <img\r\n                alt={productWithImage.name}\r\n                data-test=\"cart-item-image\"\r\n                src={productWithImage.imageUrl}\r\n            />\r\n        );\r\n    }\r\n\r\n    if (lineItems.giftCertificates.length) {\r\n        return <IconGiftCertificate />;\r\n    }\r\n}\r\n\r\nexport default memo(OrderSummaryDrawer);\r\n","import React, {\r\n    Component,\r\n    KeyboardEvent,\r\n    KeyboardEventHandler,\r\n    MouseEventHandler,\r\n    ReactNode,\r\n} from 'react';\r\n\r\nexport interface ModalTriggerProps {\r\n    children(props: { onClick: MouseEventHandler; onKeyPress: KeyboardEventHandler<HTMLDivElement> }): ReactNode;\r\n    modal(props: ModalTriggerModalProps): ReactNode;\r\n}\r\n\r\nexport interface ModalTriggerModalProps {\r\n    isOpen: boolean;\r\n    onRequestClose(): void;\r\n}\r\n\r\nexport interface ModalTriggerState {\r\n    isOpen: boolean;\r\n}\r\n\r\nexport default class ModalTrigger extends Component<ModalTriggerProps, ModalTriggerState> {\r\n    state = {\r\n        isOpen: false,\r\n    };\r\n\r\n    private canHandleEvent = false;\r\n\r\n    componentDidMount(): void {\r\n        this.canHandleEvent = true;\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n        this.canHandleEvent = false;\r\n    }\r\n\r\n    render() {\r\n        const { children, modal } = this.props;\r\n        const { isOpen } = this.state;\r\n\r\n        return (\r\n            <>\r\n                {children({\r\n                    onClick: this.handleOpen,\r\n                    onKeyPress: this.handleKeyOpen,\r\n                })}\r\n\r\n                {modal({\r\n                    isOpen,\r\n                    onRequestClose: this.handleClose,\r\n                })}\r\n            </>\r\n        );\r\n    }\r\n\r\n    private handleOpen: () => void = () => {\r\n        if (!this.canHandleEvent) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            isOpen: true,\r\n        });\r\n    };\r\n\r\n    private handleClose: () => void = () => {\r\n        if (!this.canHandleEvent) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            isOpen: false,\r\n        });\r\n    };\r\n\r\n    private handleKeyOpen: (keyboardEvent: KeyboardEvent<HTMLElement>) => void = (\r\n        keyboardEvent,\r\n    ) => {\r\n        if (keyboardEvent.key === 'Enter') {\r\n            this.handleOpen();\r\n        }\r\n    };\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { ButtonHTMLAttributes, FunctionComponent } from 'react';\r\n\r\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n    isFullWidth?: boolean;\r\n    isLoading?: boolean;\r\n    size?: ButtonSize;\r\n    testId?: string;\r\n    variant?: ButtonVariant;\r\n}\r\n\r\nexport enum ButtonVariant {\r\n    Primary = 'primary',\r\n    Secondary = 'secondary',\r\n    Action = 'action',\r\n}\r\n\r\nexport enum ButtonSize {\r\n    Small = 'small',\r\n    Tiny = 'tiny',\r\n    Large = 'large',\r\n}\r\n\r\nfunction getClassName(\r\n    props: Pick<ButtonProps, 'className' | 'isFullWidth' | 'isLoading' | 'size' | 'variant'>,\r\n) {\r\n    const { className, isFullWidth, isLoading, size, variant } = props;\r\n\r\n    return classNames(\r\n        'button',\r\n        className,\r\n        { 'button--primary': variant === ButtonVariant.Primary },\r\n        { 'button--tertiary': variant === ButtonVariant.Secondary },\r\n        { 'button--action': variant === ButtonVariant.Action },\r\n        { 'button--small': size === ButtonSize.Small },\r\n        { 'button--tiny': size === ButtonSize.Tiny },\r\n        { 'button--large': size === ButtonSize.Large },\r\n        { 'button--slab': isFullWidth },\r\n        {\r\n            'optimizedCheckout-buttonPrimary':\r\n                variant === ButtonVariant.Primary || variant === ButtonVariant.Action,\r\n        },\r\n        { 'optimizedCheckout-buttonSecondary': variant === ButtonVariant.Secondary },\r\n        { 'is-loading': isLoading },\r\n    );\r\n}\r\n\r\nconst Button: FunctionComponent<ButtonProps> = ({\r\n    children,\r\n    className,\r\n    disabled,\r\n    isFullWidth,\r\n    isLoading,\r\n    size,\r\n    testId,\r\n    type,\r\n    variant,\r\n    ...rest\r\n}) => (\r\n    <button\r\n        {...rest}\r\n        className={getClassName({ className, isFullWidth, isLoading, size, variant })}\r\n        data-test={testId}\r\n        disabled={disabled || isLoading}\r\n        type={type || 'button'}\r\n    >\r\n        {children}\r\n    </button>\r\n);\r\n\r\nexport default Button;\r\n","import classNames from 'classnames';\r\nimport React, { ComponentType, memo } from 'react';\r\n\r\nexport enum IconSize {\r\n    Regular = 'regular',\r\n    Small = 'small',\r\n    Medium = 'medium',\r\n    Large = 'large',\r\n}\r\n\r\nexport interface IconProps {\r\n    additionalClassName?: string;\r\n    size?: IconSize;\r\n    testId?: string;\r\n}\r\n\r\nexport default function withIconContainer<TProps extends Record<string, any>>(\r\n    OriginalComponent: ComponentType<TProps>,\r\n): ComponentType<TProps & IconProps> {\r\n    return memo(({ additionalClassName, size, testId, ...rest }) => (\r\n        <div\r\n            className={classNames(\r\n                'icon',\r\n                additionalClassName,\r\n                size === IconSize.Small ? 'icon--small' : null,\r\n                size === IconSize.Large ? 'icon--large' : null,\r\n                size === IconSize.Medium ? 'icon--medium' : null,\r\n            )}\r\n            data-test={testId}\r\n        >\r\n            <OriginalComponent {...(rest as TProps)} />\r\n        </div>\r\n    ));\r\n}\r\n"],"names":["memo","cartUrl","props","headerLink","className","url","href","id","target","coupon","displayName","TranslatedString","code","giftCertificate","ShopperCurrency","amount","used","remaining","height","viewBox","width","xmlns","d","children","isRemoving","onRemove","disabled","onClick","type","AppliedCouponChecklistItem","onRemoved","handleRemove","useCallback","AppliedGiftCertificateChecklistItem","coupons","giftCertificates","isRemovingCoupon","isRemovingGiftCertificate","onRemovedCoupon","onRemovedGiftCertificate","length","map","key","RedeemableForm","appliedRedeemableError","isApplyingRedeemable","clearError","noop","submitForm","language","handleKeyDown","memoizeOne","setSubmitted","event","keyCode","preventDefault","handleSubmit","renderLabel","name","Label","hidden","htmlFor","renderErrorMessage","errorCode","renderInput","field","errors","Alert","TextInput","translate","onKeyDown","testId","Button","isLoading","variant","renderContent","FormField","input","label","FormProvider","withLanguage","withFormik","mapPropsToValues","redeemableCode","applyCoupon","applyGiftCertificate","trim","Error","validationSchema","required","shouldCollapseCouponCode","showAppliedRedeemables","formProps","Toggle","openByDefault","toggle","isOpen","mapToCartSummaryProps","context","getConfig","getCustomer","checkout","getCheckout","config","customer","redeemableProps","isStoreCreditApplied","grandTotal","storeCredit","updatedCartModal","checkoutSettings","features","shopperCurrency","links","cartLink","storeCurrency","currency","storeCreditAmount","Math","min","undefined","isUpdatedCartSummayModal","mapToRedeemableProps","checkoutService","data","getCoupons","getGiftCertificates","statuses","isApplyingCoupon","isApplyingGiftCertificate","getApplyCouponError","getApplyGiftCertificateError","getRemoveCouponError","getRemoveGiftCertificateError","removeCoupon","removeGiftCertificate","removedRedeemableError","isCouponCodeCollapsed","withRedeemable","OriginalComponent","subtotal","cart","discountAmount","isTaxIncluded","consignments","handlingCostTotal","shippingCostBeforeDiscount","giftWrappingCostTotal","taxes","subtotalAmount","giftWrappingAmount","shippingAmount","hasSelectedShippingOptions","handlingAmount","mapToOrderSummarySubtotalsProps","additionalLineItems","Redeemable","lineItems","total","outstandingBalance","getLineItemsCount","physicalItems","digitalItems","customItems","fill","clipRule","fillRule","items","shopperCurrencyCode","storeCurrencyCode","amountWithCurrency","itemsCount","getItemsCount","hasDifferentCurrency","itemsText","renderHeader","newHeaderLink","onRequestClose","subHeaderText","isValidElement","cloneElement","ModalHeader","additionalClassName","IconClose","onAfterOpen","orderSummarySubtotalsProps","displayInclusiveTax","continueButton","isSmallScreen","Modal","additionalBodyClassName","additionalHeaderClassName","additionalModalClassName","footer","header","OrderSummarySection","OrderSummaryItems","displayLineItemsCount","OrderSummarySubtotals","OrderSummaryTotal","orderAmount","tax","index","OrderSummaryPrice","renderModal","ModalTrigger","modal","onKeyPress","tabIndex","productWithImage","imageUrl","alt","src","IconGiftCertificate","getImage","count","state","canHandleEvent","handleOpen","setState","handleClose","handleKeyOpen","keyboardEvent","componentDidMount","this","componentWillUnmount","render","Component","ButtonVariant","ButtonSize","getClassName","isFullWidth","size","Primary","Secondary","Action","Small","Tiny","Large","rest","IconSize","withIconContainer","Medium"],"sourceRoot":""}